<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
    <script>
        /*
            作用域：
                -指一个变量的作用的范围
                -在JS中一共两种作用域
                    1.全局作用域
                        -直接编写在script标签中的JS代码，都在全局作用域
                        -全局作用域在页面打开时创建，在页面关闭时销毁
                        -在全局作用域中有一个全局对象window，
                            它代表的是一个浏览器的窗口，它由浏览器创建我们可以直接使用
                        -在全局作用域中：
                            创建的变量都会作为window对象的属性保存
                            创建的函数都会作为window对象的方法保存
                        -全局作用域中的变量都是全局变量
                            在页面任意部分都可以访问得到

                    2.函数作用域
                        -调用函数时创建函数作用域，函数执行完毕以后，函数作用域销毁
                        -每调用一次函数就会创建一个新的函数作用域，他们之间是互相独立的
                        -在函数作用域中可以访问到全局作用域的变量
                            在全局作用域中无法访问到函数作用域的变量
                        -当在函数作用域操作一个变量时，它会先在自身作用域中寻找

        */
        
        /*
            this关键字

            解析器在调用函数每次都会向函数内部传递进一个隐含的参数，
            这个隐含参数就是this，this指向的是一个对象，
            这个对象我们成为函数执行的上下文对象
            根据函数的调用方式不同，this会指向不同的对象
                1.以函数的形式调用时，this永远都是window
                2.以方法的形式调用时，this就是调用方法的对象
        */

        /*
            使用工厂方法创建对象
            通过该方法可以大批量的创建对象
        */

        function createPerson(name,age,gender) {
            //创建一个对象
            var obj = new Object();

            // 向对象中添加属性
            obj.name = name;
            obj.age = age;
            obj.gender = gender;
            obj.sayName = function () {
                //alert(this.name)
            }

            // 将新的对象返回
            return obj;

        }
        
        var obj2 = createPerson('朱一龙','30','男神');

        /*
            使用工厂方法创建的对象，使用的构造函数都是Object
            所以创建的对象都是Object这个类型，
            就导致我们无法区分出多种不同类型的对象
        */

        obj2.sayName();

        console.log(obj2)


        // 构造函数

        /*
            创建一个构造函数，专门用来创建Person对象的
            构造函数就是一个普通的函数，创建方式和普通函数没有区别
            不同的是构造函数习惯上首字母大写

            构造函数和普通函数的区别就是调用方式的不同
            普通函数就是直接调用，而构造函数需要使用new关键字来调用

            构造函数的执行流程：
                1.立刻创建一个新的对象
                2.将新建的对象设置为函数中的this，在构造函数中可以使用this来引用新建的对象
                3.逐行执行函数中的代码
                4.将新建的对象作为返回值返回

            使用同一个构造函数创建的对象，我们成为一类对象，也将一个构造函数成为一个类。
            我们通过一个构造函数创建的对象，称为该类的实例

            this的情况：
                1.当以函数的形式调用时，this是window
                2.当以方法的形式调用时，谁调用方法this就是谁
                3.当以构造函数的形式调用时，this就是新创建的那个对象
        */

        function Person(name , age , gender) {
            this.name = name;
            this.age = age;
            this.gender = gender;
        }

        var per = new Person('朱一龙',30,'男神');

        console.log(per)


        /*
            使用 instanceof 可以检查一个对象是否是一个类的实例
                语法：
                    对象 instanceof 构造函数
            如果是，则返回true，否则返回false
        */
        console.log(per instanceof Person);
        

    </script>
</body>
</html>