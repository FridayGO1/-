<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>CSS Variable</title>
		<link rel="stylesheet" href="css/03.css" />
	</head>
	<body>
		
		<h2>Update CSS Variables with <span class="hl">JS</span></h2>
		
		<div class="controls">
			<label for="spacing">Spacing:</label>
			<input type="range" name="spacing" min="10" max="200" value="10" data-sizing="px" = ""/>
		
			<label for="blur">Blur:</label>
			<input type="range" name="blur" min="0" max="25" value="10" data-sizing = "px"/>
			
			<label for="base">Base Color</label>
			<input type="color" name="base" value="#8aa8af" />
			
			<img src="https://source.unsplash.com/7bwQXzbF6KE/800x500">
		
			<code class="result">
				img{
					padding:<label id="code-spacing">10px</label>;
					filter:blur(<label id="code-blur">10px</label>)
					background:<label id="code-base">#8aa8af</label>
				}
			</code>
		</div>
		
		<script>
			const inputs = document.querySelectorAll('.controls input');
			
			function handleUpdate () {
				const suffix = this.dataset.sizing || '';//根据data-sizing获取参数的后缀
				document.documentElement.style.setProperty(`--${this.name}`,this.value + suffix);//设置页面CSS变量的值
				document.documentElement(`code-${this.name}`).innerText = this.value + suffix;//页面参数实时显示
			}
			
			inputs.forEach(input => input.addEventListener('change',handleUpdate));
			inputs.forEach(input => input.addEventListener('mousemove',handleUpdate));
		</script>
	</body>
</html>
